<!DOCTYPE html>
<html>
<head>
    <title>JavaScript View</title>

    <script type="text/javascript">

        function showToast(){
            var message = document.getElementById("message").value;
            var lengthLong = document.getElementById("length").checked;

            /* 
                Call the 'makeToast' method in the Java code. 
                'app' is specified in MainActivity.java when 
                adding the JavaScript interface. 
             */
             
             if (typeof app === 'undefined') {
                alert("Outside android!");
                return false;
             }
             
            app.makeToast(message, lengthLong);
            return false;
        }

        function testStripe(){
             if (typeof app === 'undefined') {
                alert("Outside android!");
                return false;
             }

            app.initStripe("tml_zzzzz", "get_token");
            return false;
        }

        function get_token(){
            return "pst_test_aaaaa";
        }

        /* 
            Call the 'showToast' method when the form gets 
            submitted (by pressing button or return key on keyboard). 
         */
        window.onload = function(){
            var form = document.getElementById("form");
            form.onsubmit = showToast;
            var form2 = document.getElementById("form_stripe");
            form2.onsubmit = testStripe;
        }
    </script>
</head>

<body>

<form id="form">
    Message: <input id="message" name="message" type="text"/><br />
    Long: <input id="length" name="length" type="checkbox" /><br />

    <input type="submit" value="Make Toast" />
</form>

<form id="form_stripe">
    <input type="submit" value="Test Stripe" />
</form>
</body>
</html>

